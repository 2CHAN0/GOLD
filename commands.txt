#Teacher rollout generation
!python scripts/generate_teacher_style_data.py \
  --teacher Qwen/Qwen2.5-7B-Instruct \
  --styles-dir prompts/styles \
  --num-samples 1000 \
  --chosun-probability 0.6 \
  --output-path /content/drive/MyDrive/GOLD/teacher_style_rollouts.jsonl \
  --max-new-tokens 128 \
  --temperature 0.7 \
  --top-p 0.9 \
  --trust-remote-code

#Off-Policy Kd
!python scripts/train_gold_style.py \
  --student Qwen/Qwen2.5-1.5B-Instruct \
  --teacher Qwen/Qwen2.5-7B-Instruct \
  --prompt-source jsonl \
  --dataset-path /content/drive/MyDrive/GOLD/teacher_style_rollouts.jsonl \
  --lmbda 0.0 \
  --max-steps 100 \
  --output-dir /content/drive/MyDrive/GOLD/gold-style-off-policy

#On-Policy Kd
!python scripts/train_gold_style.py \
  --student Qwen/Qwen2.5-1.5B-Instruct \
  --resume-from-checkpoint /content/drive/MyDrive/GOLD/checkpoint-5 \
  --teacher Qwen/Qwen2.5-7B-Instruct \
  --prompt-source dynamic \
  --chosun-probability 0.6 \
  --lmbda 1.0 \
  --max-steps 3 \
  --output-dir /content/drive/MyDrive/GOLD/gold-style-on-policy \
  --styles-dir prompts/styles \
  --trust-remote-code

#evaluate
!python scripts/eval_style_responses.py \
  --model-path /content/drive/MyDrive/GOLD/gold-style-on-policy/checkpoint-6 \
  --base-model Qwen/Qwen2.5-1.5B-Instruct \
  --prompts-file data/style_toggles.jsonl \
  --max-new-tokens 200 \
  --trust-remote-code